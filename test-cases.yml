---
- summary: |
    Регистрация пользователя
  requirement: |
    Пользователь может зарегистрироваться на сайте
  prerequisites: |
    no data
  test-data: |
    Niсkname = "Zenit"
    Login = "mccenzly@bk.ru"
    Password = "123456"
  steps:
    - Нажимаем кнопку "Sign Up"
    - Вводим "Nickname"
    - Вводим "Email"
    - Вводим "Password"
    - Вводим "Password Confirmation"
    - Нажимаем кнопку "Submit"
  expected-result: |
    Отображена главная страница "CodeBattle" https://codebattle.hexlet.io/#lobby
    В правом верхнем углу отображены данные (аватар, Nickname) указанного пользователя

- summary: |
    Регистрация пользователя с незарегистрированным email
  requirement: |
    Пользователь может зарегистрироваться на сайте только имея зарегистрированный email
  prerequisites: |
    no data
  test-data: |
    Niсkname = "Zenit"
    Login = "hexlet@buterbrodhochy.com"
    Password = "123456"
  steps:
    - Нажимаем кнопку "Sign Up"
    - Вводим "Nickname"
    - Вводим "Email"
    - Вводим "Password"
    - Вводим "Password Confirmation"
    - Нажимаем кнопку "Submit"
  expected-result: |
    Появилась ошибка "email is not registered"

- summary: |
    Вход с помощью других сервисов
  requirement: |
    Пользователь может войти в систему, используя учетную запись GitHub.
  prerequisites: |
    Необходимо быть зарегистрированным на портале GitHub
  steps:
    - Нажимаем кнопку "Sign In"
    - Нажимаем кнопку "Sign in with GitHub"
    - Вводим логин или email
    - Нажимаем "sign in"
  expected-result: |
    Отображена главная страница "CodeBattle" https://codebattle.hexlet.io/#lobby
    В правом верхнем углу отображены данные (аватар, Nickname) указанного пользователя

- summary: |
    Вход с помощью других сервисов
  requirement: |
    Пользователь может войти в систему, используя учетную запись Discord
  prerequisites: |
    Необходимо быть зарегистрированным на портале Discord.com
  steps:
    - Нажимаем кнопку "Sign In"
    - Нажимаем кнопку "Sign in with Discord"
    - Нажимаем авторизация
  expected-result: |
    Отображена главная страница "CodeBattle" https://codebattle.hexlet.io/#lobby
    В правом верхнем углу отображены данные (аватар, Nickname) указанного пользователя

- summary: |
    Вход с помощью других сервисов
  requirement: |
    Пользователь может войти в систему, используя учетную запись Discord используя QR-код
  prerequisites: |
    Необходимо быть зарегистрированным на портале Discord.com
  steps:
    - Нажимаем кнопку "Sign In"
    - Нажимаем кнопку "Sign in with Discord"
    - Сканируем QR-код через мобильное приложение Discord на телефоне
    - Проходим капчу
  expected-result: |
    Вход выполнен, отображена главная страница "CodeBattle" https://codebattle.hexlet.io/#lobby
    В правом верхнем углу отображены данные (аватар, Nickname) указанного пользователя

- summary: |
    Вход на сайт
  requirement: |
    Пользователь может войти в систему используя логин и пароль
  prerequisites: |
    no data
  test-data: |
    Email = "mccenzly@bk.ru"
    Password = "123456"
  steps:
    - Нажимаем кнопку "Sign In"
    - Вводим "Email"
    - Вводим "Password"
    - Нажимаем кнопку "Submit"
  expected-result: |
    Отображена главная страница "CodeBattle" https://codebattle.hexlet.io/#lobby
    В правом верхнем углу отображены данные (аватар, Nickname) указанного пользователя

- summary: |
    Восстановление пароля
  requirement: |
    Пользователь может восстановить пароль
  prerequisites: |
    Пользователь забыл пароль
  test-data: |
    Email = "mccenzly@bk.ru"
    New password = "12345678"
  steps:
    - Нажимаем кнопку "Sign In"
    - Нажимаем "Forgot your password?"
    - Вводим "Email"
    - Переходим по ссылке отправленной на email mccenzly@bk.ru
    - Вводим в поле "New password" новый пароль
    - Нажимаем "Save"
    - На главной странице нажимаем кнопку "Sign In"
    - Вводим "Email"
    - Вводим новый "Password"
    - Нажимаем "Submit"
  expected-result: |
    Новый пароль успешно изменён  
    Отображена главная страница "CodeBattle" https://codebattle.hexlet.io/#lobby
    В правом верхнем углу отображены данные (аватар, Nickname) указанного пользователя

- summary: |
    Запуск игры незарегистрированным пользователем 
  requirement: |
    Пользователь может запустить игру без входа в систему
  prerequisites: |
    no data
  steps:
    - Нажимаем кнопку "Try simple battle"
  expected-result: |
    Открылось игровое поле для игры с ботом

- summary: |
    Редактирование профиля пользователя
  requirement: |
    Пользователь может изменить пароль, аватар, email в настройках профиля
  prerequisites: |
    Пользователь авторизован
  test-data: |
    empty
  steps:
    - Нажимаем на значек своего профиля в правом верхнем углу
    - Нажимаем "Settings"
    - Изменяем "Email" с "mccenzly@bk.ru" на "spartak@bk.ru"
    - Изменяем "Password" с "12345678" на "87654321"
    - Изменяем аватар
    - Нажимаем "Save"
  expected-result: |
    Изменились "Email", "Password", аватар

- summary: |
    Изменение настроек профиля
  requirement: |
    Пользователь может менять язык программирования, звуки сайта dendy/cs/standart/silent и громкость в настройках профиля
  prerequisites: |
    Пользователь авторизован
  test-data: |
    empty
  steps:
    - Нажимаем на значек своего профиля в правом верхнем углу
    - Нажимаем "Settings"
    - Выбирваем язык программирования в окне "Your weapon" 
    - Изменяем звук сайта во вкладке "Select sound type"
    - Изменяем громкость сайта путем передвигания бегунка 
    - Нажимаем "Save"
  expected-result: |
    Изменился язык программирования, звук сайта, громкость сайта установилась согласно установке бегунка.
    Появилось сообщение "Your settings has been changed"

- summary: |
    Просмотр статистики своего профиля
  requirement: |
    Пользователь может просматривать статистику своего профиля
  prerequisites: |
    Пользователь авторизован
  test-data: |
    empty
  steps:
    - Нажимаем на значек своего профиля в правом верхнем углу
    - Нажимаем "My profile"
  expected-result: |
    Открывается страница https://codebattle.hexlet.io/users/15730
    На странице видна статистика пользователя

- summary: |
    Выход из профиля
  requirement: |
    Пользователь может выйти из профиля
  prerequisites: |
    Пользователь авторизован
  test-data: |
    empty
  steps:
    - Нажимаем на значек своего профиля в правом верхнем углу
    - Нажимаем "Sign Out"
  expected-result: |
    Открывается страница https://codebattle.hexlet.io
    Выход пользователя из приложения выполнен успешно

- summary: |
    Открытие созданного турнира
  requirement: |
    Пользователь может просматривать информацию о созданном им турнире
  prerequisites: |
    Пользователь авторизован на сайте
    Пользователем был создан турнир
  test-data: |
    Имя турнира = Unreal_Tournament
    Email = "mccenzly@bk.ru"
    Password = "12345678"
  steps:
    - Нажимаем на значек своего профиля в правом верхнем углу
    - Нажимаем "Tournaments"
    - Кликаем "Show" на созданный пользователем турнир
  expected-result: |
    Открывается страница с турниром и видна вся информация о нем

- summary: |
    Сортировка пользователей по рейтингу
  requirement: |
    Пользователь может сортировать рейтинг пользователей по недельному, месячному и общему рейтингу
  prerequisites: |
    Пользователь авторизован
  test-data: |
    empty
  steps:
    - Нажимаем "Top list" в таблице "Leader boards"
    - Нажимаем "Weekly", "Monthly", "Total"
  expected-result: |
    Открывается страница https://codebattle.hexlet.io/users
    Отображается недельный, месячный и общий рейтинг пользователей
    
- summary: |
    Создание игры
  requirement: |
    Пользователь может создать игру с другим пользователем или ботом
  prerequisites:
    Пользователь авторизован
  test-data: |
    empty
  steps:
    - Открываем главную страницу сайта https://codebattle.hexlet.io/#lobby
    - Нажимаем кнопку "Create a game"
    - Выбираем уровень (level)
    - Выбираем тип игры (type of game)
    - Выбираем время игры (time control)
    - Выбираем задание (Choose task by name or tags)
    - Нажимаем "Create battle"
  expected-result: |
    Открывается страница с игрой 

- summary: |
    История игры
  requirement: |
    Незарегистрированный пользователь может просматривать историю своей игры с ботом
  prerequisites:
    no data
  steps:
    - Открываем главную страницу сайта https://codebattle.hexlet.io/#lobby
    - Нажимаем кнопку "Try simple battle"
    - Нажимаем "Open history"
    - В появившемся окне внизу нажимаем "Play" 
  expected-result: |
    Видим историю своей игры с ботом

- summary: |
    Просмотр "Guide" в игре
  requirement: |
    Зарегистрированный и незарегистрированный пользователь может просматривать "Guide" в игре с ботом
  prerequisites:
    no data
  test-data: |
    Email = "mccenzly@bk.ru"
    Password = "12345678"
  steps:
    - Открываем главную страницу сайта https://codebattle.hexlet.io/#lobby
    - Нажимаем кнопку "Try simple battle"
    - Нажимаем "Show guide"
    - Нажимаем "Next"
    - Нажимаем "Back"
    - Нажимаем "Skip guide"
    - Нажимаем "Back to home"
    - Проходим авторизацию
    - Создаем игру
    - Проходим все шаги с кнопкой "Show guide" 
  expected-result: |
    Окно "Guide" появилось, работает корректно как у зарегистрированного так и у незарегистрированного пользователя

- summary: |
    Смена темы игры
  requirement: |
    В игровом поле пользователю доступен выбор темы игры "light/dark"
  prerequisites:
    Пользователь авторизован
  test-data: |
    empty
  steps:
    - Открываем главную страницу сайта https://codebattle.hexlet.io/#lobby
    - Нажимаем "Create a game"
    - Выбираем параметры игры
    - Нажимаем "Create battle"
    - В игровом поле нажимаем "Light"
    - В игровом поле нажимаем "Dark"
  expected-result: |
    Тема игрового поля меняется с светлой на темную и наоборот

- summary: |
    Сдаться в игре
  requirement: |
    Пользователь может сдаться нажав "Give up"
  prerequisites:
    Пользователь авторизован
  test-data: |
    empty
  steps:
    - Открываем главную страницу сайта https://codebattle.hexlet.io/#lobby
    - Нажимаем "Create a game"
    - Выбираем параметры игры
    - Нажимаем "Create battle"
    - В игровом поле нажимаем на кнопку с флагом "Give up"
    - В появившемся окне подтверждаем нажав "Give up"
    - В появившемся окне нажимаем "I'll be back"
  expected-result: |
    Появилось окно с надписью "If you read this you've lost the game", игра окончена, пользователь проиграл

- summary: |
    Обнуление "solution"
  requirement: |
    Пользователь может обнулить "solution"
  prerequisites:
    Пользователь авторизован
  test-data: |
    empty
  steps:
    - Открываем главную страницу сайта https://codebattle.hexlet.io/#lobby
    - Нажимаем "Create a game"
    - Выбираем параметры игры
    - Нажимаем "Create battle"
    - В игровом поле "solution" пишем "print_r('Hello, World!');"
    - Нажимаем на кнопку со стрелочками "Reset solution"
  expected-result: |
    В игровом поле "solution" обнулился до начальных значений

- summary: |
    Запуск проверки "solution"
  requirement: |
    Пользователь может запустить проверку "solution"
  prerequisites:
    Пользователь авторизован
  test-data: |
    empty
  steps:
    - Открываем главную страницу сайта https://codebattle.hexlet.io/#lobby
    - Нажимаем "Create a game"
    - Выбираем параметры игры
    - Нажимаем "Create battle"
    - Записываем в "solution" код решения данного задания 
    - Нажимаем кнопку "Run"
  expected-result: |
    Появилось окно "Woohoo, you're Champion!!!!!", во вкладке "output" появилось сообщение "Yay! All tests passed!!111" код прошел проверку

- summary: |
    Чат с соперником в игре
  requirement: |
    Пользователю доступен чат с соперником во время игры
  prerequisites:
    Пользователь авторизован
  test-data: |
    empty
  steps:
    - Открываем главную страницу сайта https://codebattle.hexlet.io/#lobby
    - Нажимаем "Create a game"
    - Выбираем параметры игры
    - Нажимаем "Create battle"
    - В поле чата пишем "Hello, friend"
  expected-result: |
    В окне чата появилось сообщение "Hello, friend"

- summary: |
    "rematch" игры
  requirement: |
    После победы/поражения в игре, возможно сделать "Rematch" игры
  prerequisites:
    Пользователь авторизован
  test-data: |
    empty
  steps:
    - Открываем главную страницу сайта https://codebattle.hexlet.io/#lobby
    - Нажимаем "Create a game"
    - Выбираем параметры игры
    - Нажимаем "Create battle"
    - Завершите игру (победой или поражением)
    - После окончания игры нажмите кнопку 'Rematch'
  expected-result: |
    Кнопка 'Rematch' доступна. После нажатия на кнопку 'Rematch' запускается новая игра с теми же настройками и противником

- summary: |
    Победа в матче
  requirement: |
    Победа присуждается первому правильно решившему задачу пользователю
  prerequisites:
    Открыты главные страницы CodeBattle двух атворизованных пользователей с разных браузеров
  test-data: |
    Пользователь 1 = email "mccenzly@bk.ru", password "12345678"
    Пользователь 2 = email "tuttifrutti@fleximtogether.com", password "12345678"
    Task = rect area
    Код для победы в игре:
    const _ = require("lodash");
    const R = require("rambda");
    const solution = (width, length) => {
    return width * length;
    };
    module.exports = solution;
  steps:
    - Нажимаем "Create a game"
    - Выбираем параметры игры
    - Нажимаем "Create battle"
    - На втором аккаунте принимаем игру нажав "accept"
    - Вставляем код для победы
    - Нажимаем "Run"
  expected-result: |
    Победа присуждается пользователю, который первым правильно решил задачу

- summary: |
    Игра завершается при различных условиях
  requirement: |
    Игра завершается при победе, самостоятельной сдаче, победе противника, сдаче противника, завершении времени
  prerequisites:
    Открыты главные страницы CodeBattle двух атворизованных пользователей с разных браузеров
  test-data: |
    Пользователь 1 = email "mccenzly@bk.ru", password "12345678"
    Пользователь 2 = email "tuttifrutti@fleximtogether.com", password "12345678"
  steps:
    - Нажимаем "Create a game"
    - Выбираем параметры игры
    - Нажимаем "Create battle"
    - На втором аккаунте принимаем игру нажав "accept"
    - Пользователь 1 решает задачу правильно.
    - Пользователь 1 нажимает кнопку "Give up".
    - Пользователь 2 решает задачу правильно.
    - Пользователь 2 нажимает кнопку "Give up"
    - Дождаться завершения времени игры
  expected-result: |
    - Игра завершается при правильном решении задачи Пользователем 1
    - Игра завершается при сдаче Пользователем 1
    - Игра завершается при правильном решении задачи Пользователем 2
    - Игра завершается при сдаче Пользователем 2
    - Игра завершается по истечении времени

- summary: |
    Просмотр игрового поля противника
  requirement: |
    Во время игры пользователю доступно для просмотра игровое поле противника, на нем отображаются все действия пользователя
  prerequisites:
    Открыты главные страницы CodeBattle двух атворизованных пользователей с разных браузеров
  test-data: |
    Пользователь 1 = email "mccenzly@bk.ru", password "12345678"
    Пользователь 2 = email "tuttifrutti@fleximtogether.com", password "12345678"
  steps:
    - Нажимаем "Create a game"
    - Выбираем параметры игры
    - Нажимаем "Create battle"
    - На втором аккаунте принимаем игру нажав "accept"
    - Пользователь 1 начинает выполнять действия на игровом поле
    - Пользователь 2 наблюдает за действиями Пользователя 1
  expected-result: |
    Пользователь 2 видит все действия Пользователя 1 на игровом поле

- summary: |
    Отмена игры до её начала
  requirement: |
    Пользователь может отменить игру до ее начала
  prerequisites:
    Пользователь авторизован
  test-data: |
    empty
  steps:
    - Открываем главную страницу сайта https://codebattle.hexlet.io/#lobby
    - Нажимаем "Create a game"
    - Выбираем параметры игры
    - Нажимаем "Create battle"
    - Пользователь нажимает кнопку отмены игры "decline" до её начала
  expected-result: |
    Игра успешно отменяется до её начала

- summary: |
    Получение очков за победу
  requirement: |
    Пользователь должен получать очки за победу в играх и они должны отображаться корректно
  prerequisites:
    Открыты главные страницы CodeBattle двух атворизованных пользователей с разных браузеров
  test-data: |
    Пользователь 1 = email "mccenzly@bk.ru", password "12345678"
    Пользователь 2 = email "tuttifrutti@fleximtogether.com", password "12345678"
    Task = rect area
    Код для победы в игре:
    const _ = require("lodash");
    const R = require("rambda");
    const solution = (width, length) => {
    return width * length;
    };
    module.exports = solution;
  steps:
    - Открыть главную страницу сайта https://codebattle.hexlet.io/#lobby
    - Нажать "Create a game"
    - Выбирать параметры игры и противика с которым будет проходить игра
    - Нажать "Create battle"
    - Вставляем код для победы
    - Нажимаем "Run"
    - Перейти в лобби
    - Проверить количество очков на профиле пользователя
  expected-result: |
    Пользователь получает очки за победу в игре и они отображаются корректно.

- summary: |
    Очки рейтинга нового игрока
  requirement: |
    Показатели рейтинга нового игрока должны быть корректны
  prerequisites:
    В веб-приложении "CodeBattle" создан пользователь который ни разу не вступал в игру
  test-data: |
    Email = "lokomotiv@bk.ru"
    Password = "lokomotiv"
  steps:
    - Открываем главную страницу сайта https://codebattle.hexlet.io/#lobby
    - Проверить количество очков на профиле пользователя
  expected-result: |
    Очки рейтинга отображены корректно.

- summary: |
    Использование приватного чата с игроками online
  requirement: |
    Пользователь может использовать приватный чат с игроками online
  prerequisites:
    Пользователь авторизован
  test-data: |
    empty
  steps:
    - Открываем главную страницу сайта https://codebattle.hexlet.io/#lobby
    - Открыть список игроков online
    - Выбрать игрока и начать с ним приватный чат
  expected-result: |
    Пользователь может успешно использовать приватный чат с игроками online

- summary: |
    Отображение количества игроков online на главной странице
  requirement: |
    На главной странице должно отражаться количество игроков online
  prerequisites:
    Пользователь авторизован
  test-data: |
    empty
  steps:
    - Открываем главную страницу сайта https://codebattle.hexlet.io/#lobby
    - Просмотреть область на главной странице, где отображается количество игроков online
  expected-result: |
    На главной странице отображается актуальное количество игроков online

- summary: |
    Обновление количества игроков online при входе/выходе других пользователей
  requirement: |
    Количество игроков онлайн должно обновляться при входе/выходе других пользователей на сайт
  prerequisites:
    Пользователь авторизован
  test-data: |
    empty
  steps:
    - Открываем главную страницу сайта https://codebattle.hexlet.io/#lobby
    - Следить за количеством игроков online
    - Отметить изменения в количестве при входе/выходе других пользователей
  expected-result: |
    Количество игроков online обновляется в реальном времени при входе/выходе других пользователей

- summary: |
   Наличие общего чата на главной странице
  requirement: |
    На главной странице должен быть общий чат со всеми доступными игроками online
  prerequisites:
    Пользователь авторизован
  test-data: |
    empty
  steps:
    - Открываем главную страницу сайта https://codebattle.hexlet.io/#lobby
    - Найти общий чат на главной странице
    - Проверить возможность отправки сообщений в общий чат
  expected-result: |
    Общий чат доступен на главной странице, и пользователи могут отправлять сообщения

- summary: |
    Простота навигации
  requirement: |
    Навигация на сайте должна быть понятной и простой
  prerequisites:
    no data
  steps:
    - Открыть сайт в веб-браузере
    - Попробовать найти и перейти на разные основные разделы сайта (например, главная страница, профиль, настройки)
    - Оценить количество кликов и время, необходимое для нахождения нужных разделов
  expected-result: |
    Пользователь легко и быстро находит все основные разделы сайта с минимальным количеством кликов

- summary: |
    Логичность расположения элементов
  requirement: |
    Все элементы сайта должны быть расположены логично и интуитивно понятны
  prerequisites:
    no data
  steps:
    - Открыть сайт в веб-браузере
    - Проанализировать расположение основных элементов интерфейса (например, меню, кнопки, поля ввода)
    - Проверить, насколько логично и интуитивно понятно расположены элементы
  expected-result: |
    Элементы интерфейса расположены логично и интуитивно понятно для пользователя

- summary: |
    Современный дизайн
  requirement: |
    Сайт должен иметь современный и привлекательный дизайн, соответствующий текущим стандартам веб-дизайна
  prerequisites:
    no data
  steps:
    - Открыть сайт в веб-браузере
    - Оценить визуальное оформление сайта, включая шрифты, цвета и общий стиль
    - Сравнить дизайн сайта с современными стандартами веб-дизайна
  expected-result: |
    Сайт имеет современный и привлекательный дизайн, соответствующий текущим стандартам веб-дизайна

- summary: |
    Единый стиль
  requirement: |
    Все страницы и элементы интерфейса сайта должны иметь единый стиль
  prerequisites:
    no data
  steps:
    - Открыть сайт в веб-браузере
    - Просмотреть различные страницы и разделы сайта
    - Проверить, что все страницы и элементы интерфейса выдержаны в едином стиле
  expected-result: |
    Все страницы и элементы интерфейса сайта имеют единый стиль

- summary: |
    Возможность общения
  requirement: |
    Пользователю должно быть доступно легко отправлять и получать сообщения от других пользователей на сайте
  prerequisites:
    no data
  steps:
    - Открыть сайт в веб-браузере
    - Перейти в раздел общения (например, чат или форумы)
    - Попробовать отправить сообщение другим пользователям
  expected-result: |
    Пользователь может легко отправлять и получать сообщения от других пользователей на сайте

    

    
